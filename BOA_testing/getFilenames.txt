p: Project = input;
fs: output collection[string] of array of ChangedFile;
total: output sum of int;

total << 1;

foreach (i: int; def(p.code_repositories[i]))
    if (p.code_repositories[i].kind == RepositoryKind.GIT)
        fs[p.code_repositories[i].url] << getsnapshot(p.code_repositories[i]);